platform: X
topic: Twitter-API-Enterprise
subtopic: Engagement API
file_path: /home/bhuang/nlp/rag-race-challenge2-2024/platform-docs-versions/X_Twitter-API-Enterprise/Engagement API.md
url: https://developer.twitter.com/en/docs/twitter-api/enterprise/engagement-api/api-reference/post-insights-engagement


## POST /insights/engagement/totals  [¶](#post-insights-engagement-totals- "Permalink to this headline")

The totals endpoint provides the ability to retrieve current total impressions and engagements for a collection of up to 250 Tweets at a time.

|     |     |
| --- | --- |
| **Request Method** | HTTP POST |
| **URL** | `https://data-api.twitter.com/insights/engagement/totals` |
| **Content Type** | `application/json` |
| **Compression** | Gzip. To make a request using Gzip compression, send an Accept-Encoding header in the connection request.  <br>The header should look like the following:  <br>  <br>`Accept-Encoding: gzip` |
| **POST Format** | Requests can be sent as a POST request where the body is a JSON object containing a collection of Tweet IDs and a desired grouping. The POST is formatted as an array with a `tweets`, `engagements`, and `groupings` object. Each request can have a maximum of 250 Tweet IDs.  <br>  <br>An example POST body looks like:  <br>  <br><br>  {<br>    "tweet\_ids": \[<br>        "Tweet ID 1",<br>        "Tweet ID 2",<br>        "Tweet ID 3"<br>    \],<br>      "engagement\_types": \[<br>        "impressions",<br>        "engagements",<br>        "favorites",<br>        "quote\_tweets"<br>    \],<br>    "groupings": {<br>      "grouping name": {<br>        "group\_by": \[<br>          "tweet.id",<br>          "engagement.type"<br>        \]<br>      }<br>    }<br>  } |
| **Tweet IDs** | An array that includes the Tweet IDs for the Tweets to be queried for engagement data. Please note that you are only able to request data for Tweets that were created by the authenticating @handle. Up to 250 Tweets may be included per request, and Tweet IDs must be represented as strings. |
| **Engagement Types** | An array that includes the types of engagement metrics to be queried. The Totals endpoint supports only the following engagement types: `impressions`, `engagements`, `favorites`, `retweets`, `quote_tweets`, `replies`, `video_views`.  <br>The `/totals` endpoint supports the ability to retrieve `impressions` and `engagements` for Tweets created within the last 90 days, and `favorites`, `retweets`, `quote_tweets`, `replies`, and `video_views` for any Tweet. |
| **Groupings** | Results from the Engagement API can be returned in different groups to best fit your needs. You can include a maximum of 3 groupings per request.  <br>  <br>For each grouping, you may define a custom grouping name to make it easier to refer to this grouping type in your application.  <br>  <br>Once you have defined a grouping name, you can choose to group `tweet.id` and/or `engagement.type`.  <br>  <br>Groupings are honored serially, so that you can change the desired result format by changing the order of your group\_by values. An example grouping that will show metrics separated by Tweet ID and metric type looks like:  <br>  <br><br>  "groupings": {<br>      "my grouping name": {<br>        "group\_by": \[<br>          "tweet.id",<br>          "engagement.type"<br>        \]<br>      }<br>    } |
| **POST Size Limit** | Requests can be made for a maximum of 250 Tweet IDs at a time. |
| **Response Format** | JSON. The header of your request should specify JSON format for the response. |
| **Rate Limit** | You will be rate limited by minute, as specified in your contract according to your level of access. |
| **Example Request (public metrics)** | curl --request POST <br>  --url https://data-api.twitter.com/insights/engagement/totals <br>  --header 'accept-encoding: gzip' <br>  --header 'authorization: Bearer ' <br>  --header 'content-type: application/json' <br>  --data '{<br>                "tweet\_ids": \[<br>                    "1070059276213702656","1021817816134156288","1067094924124872705"<br>                \],<br>                "engagement\_types": \[<br>                    "favorites","retweets","replies","quote\_tweets","video\_views"<br>                \],<br>                "groupings": {<br>                    "perTweetMetricsUnowned": {<br>                        "group\_by": \[<br>                            "tweet.id",<br>                            "engagement.type"<br>                        \]<br>                    }<br>                }<br>            } <br>  --verbose <br>  --compressed |
| **Example Request** | curl --request POST <br>  --url https://data-api.twitter.com/insights/engagement/totals <br>  --header 'accept-encoding: gzip' <br>  --header 'authorization: OAuth oauth\_consumer\_key="consumer-key-for-app",oauth\_nonce="generated-nonce",oauth\_signature="generated-signature",oauth\_signature\_method="HMAC-SHA1", oauth\_timestamp="generated-timestamp",oauth\_token="access-token-for-authed-user", oauth\_version="1.0"' <br>  --header 'content-type: application/json' <br>  --data '{<br>                "tweet\_ids": \[<br>                    "1060976163948904448","1045709644067471360"<br>                \],<br>                "engagement\_types": \[<br>                    "favorites","replies","retweets","video\_views","impressions","engagements"<br>                \],<br>                "groupings": {<br>                    "perTweetMetricsOwned": {<br>                        "group\_by": \[<br>                            "tweet.id",<br>                            "engagement.type"<br>                        \]<br>                    }<br>                }<br>            }' <br>  --verbose <br>  --compressed |
| **Example Response (public metrics)** | {<br>  "perTweetMetricsUnowned": {<br>    "1021817816134156288": {<br>      "favorites": "530",<br>      "quote\_tweets": "79",<br>      "replies": "147",<br>      "retweets": "323",<br>      "video\_views": "0"<br>    },<br>    "1067094924124872705": {<br>      "favorites": "1360",<br>      "quote\_tweets": "29",<br>      "replies": "56",<br>      "retweets": "178",<br>      "video\_views": "5754512"<br>    },<br>    "1070059276213702656": {<br>      "favorites": "69",<br>      "quote\_tweets": "5",<br>      "replies": "7",<br>      "retweets": "26",<br>      "video\_views": "0"<br>    }<br>  }<br>} |
| **Example Response** | {<br>  "perTweetMetricsOwned": {<br>    "1045709644067471360": {<br>      "engagements": "2",<br>      "favorites": "0",<br>      "impressions": "47",<br>      "replies": "0",<br>      "retweets": "8",<br>      "quote\_tweets": "5",<br>      "video\_views": "0"<br>    },<br>    "1060976163948904448": {<br>      "engagements": "4",<br>      "favorites": "0",<br>      "impressions": "148",<br>      "replies": "1",<br>      "retweets": "9",<br>      "quote\_tweets": "2",<br>      "video\_views": "0"<br>    }<br>  }<br>} |
| **Unavailable Tweet IDs** | For queries that include Tweet IDs that have been made unavailable (e.g., have been deleted), appropriate data will be returned for all available Tweet IDs, and unavailable Tweet IDs will be referenced in an array called `unavailable_tweet_ids`. For example:  <br><br>  {<br>    "start": "2015-11-17T22:00:00Z",<br>    "end": "2015-11-19T02:00:00Z",<br>    "unavailable\_tweet\_ids": \[<br>        "323456789"<br>    \],<br>    "group1": {<br>     "423456789": {<br>      "favorites": "67",<br>      "replies": "8",<br>      "retweets": "26",<br>      "quote\_tweets": "2"<br>     }<br>    }<br>  } |